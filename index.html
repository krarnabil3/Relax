<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>تفعيل الضمان – OCR</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",sans-serif;
  background:linear-gradient(180deg,#0e3a4d,#081f2b);
  color:#fff;margin:0;padding:20px}
.card{background:rgba(255,255,255,.08);border-radius:20px;
backdrop-filter:blur(18px);padding:20px;margin-bottom:16px}
input,button{width:100%;padding:14px;border-radius:14px;border:none;
margin-top:10px;font-size:15px}
input{background:rgba(255,255,255,.15);color:#fff}
button{background:#0a84ff;color:#fff;font-weight:600}
h1{text-align:center}
label{font-size:13px;opacity:.8}
small{opacity:.7}
</style>
</head>
<body>

<h1>تفعيل الضمان الذكي</h1>

<div class="card">
<label>رفع صورة الفاتورة</label>
<input type="file" id="img" accept="image/*">
<button onclick="readImage()">قراءة البيانات من الصورة</button>
<small id="status"></small>
</div>

<div class="card">
<label>الاسم الثلاثي</label>
<input id="name">
<label>رقم الهاتف</label>
<input id="phone">
<label>العنوان</label>
<input id="address">
<label>موديل الشاشة</label>
<input id="model">
<label>السلسلة</label>
<input id="series">
<label>المجموع الكلي مع النقل</label>
<input id="total">
</div>

<script>
function readImage(){
 const file=document.getElementById("img").files[0];
 if(!file){alert("اختر صورة");return}
 document.getElementById("status").innerText="جاري قراءة الصورة...";
 Tesseract.recognize(file,'ara+eng').then(({data:{text}})=>{
   document.getElementById("status").innerText="تم استخراج البيانات";
   // استخراج الاسم
   const nameMatch=text.match(/كرار\s+نبيل\s+اكرم/);
   if(nameMatch)document.getElementById("name").value=nameMatch[0];
   // الهاتف
   const phone=text.match(/077\d{8}/);
   if(phone)document.getElementById("phone").value=phone[0];
   // الموديل
   const model=text.match(/LG\s*UHD\s*\d+/i);
   if(model){
     document.getElementById("model").value=model[0];
     document.getElementById("series").value="LGUHD";
   }
   // المجموع
   const total=text.match(/180,?000/);
   if(total)document.getElementById("total").value="180000";
   console.log(text);
 });
}
</script>

</body>
</html>
